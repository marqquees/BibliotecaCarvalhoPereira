@using BibliotecaCarvalhoPereira.Models

<!-- Seção: Informações Básicas -->
<div class="card mb-4">
    <div class="card-header bg-primary text-white">
        <h5 class="mb-0">Informações Básicas</h5>
    </div>
    <div class="card-body">
        <div class="row g-4">
            <div class="col-md-6">
                <label class="form-label fw-semibold">Título</label>
                <InputText @bind-Value="Book.Title" class="form-control" placeholder="Digite o título do livro." />
                <ValidationMessage For="@(() => Book.Title)" class="text-danger small" />
            </div>

            <div class="col-md-6">
                <label class="form-label fw-semibold">Subtítulo</label>
                <InputText @bind-Value="Book.Subtitle" class="form-control" placeholder="Subtítulo (opcional)." />
            </div>

            <div class="col-md-4">
                <label class="form-label fw-semibold">ISBN</label>
                <InputText @bind-Value="Book.ISBN" class="form-control" placeholder="978-0000000000" />
            </div>

            <div class="col-md-4">
                <label class="form-label fw-semibold">EAN</label>
                <InputText @bind-Value="Book.EAN" class="form-control" placeholder="Código EAN" />
            </div>

            <div class="col-md-4">
                <label class="form-label fw-semibold">Formato</label>
                <InputSelect @bind-Value="Book.Format" class="form-select">
                    @foreach (var format in OptionForm.Format)
                    {
                        <option>@format</option>
                    }
                </InputSelect>
            </div>
        </div>
    </div>
</div>

<!-- Seção: Autoria e Classificação -->
<div class="card mb-4">
    <div class="card-header bg-success text-white">
        <h5 class="mb-0">Autoria e Classificação</h5>
    </div>
    <div class="card-body">
        <div class="row g-4">
            <div class="col-md-8">
                <label class="form-label fw-semibold">Autor(es)</label>
                <InputText @bind-Value="Book.Author" class="form-control" placeholder="Nome do autor(es)." />
                <ValidationMessage For="@(() => Book.Author)" class="text-danger small" />
            </div>

            <div class="col-md-4">
                <label class="form-label fw-semibold">Idioma</label>
                <InputSelect @bind-Value="Book.Language" class="form-select">
                    @foreach (var language in OptionForm.Language)
                    {
                        <option>@language</option>
                    }
                </InputSelect>
            </div>

            <div class="col-md-8">
                <label class="form-label fw-semibold">Assunto</label>
                <InputText @bind-Value="Book.Subject" class="form-control" placeholder="Assunto." />
            </div>

            <div class="col-md-4">
                <label class="form-label fw-semibold">Género</label>
                <InputSelect @bind-Value="Book.Gender" class="form-select">
                    @foreach (var gender in OptionForm.Gender)
                    {
                        <option>@gender</option>
                    }
                </InputSelect>
            </div>
        </div>
    </div>
</div>

<!-- Seção: Publicação -->
<div class="card mb-4">
    <div class="card-header bg-info text-white">
        <h5 class="mb-0">Dados de Publicação</h5>
    </div>
    <div class="card-body">
        <div class="row g-4">
            <div class="col-md-7">
                <label class="form-label fw-semibold">Editora</label>
                <InputText @bind-Value="Book.Publisher" class="form-control" placeholder="Nome da editora." />
            </div>

            <div class="col-md-2">
                <label class="form-label fw-semibold">Edição</label>
                <InputText @bind-Value="Book.Edition" class="form-control" placeholder="1ª" />
            </div>

            <div class="col-md-3">
                <label class="form-label fw-semibold">Data de Publicação</label>
                <InputDate @bind-Value="Book.PublicationDate" class="form-control" />
            </div>
        </div>
    </div>
</div>

<!-- Seção: Descrição -->
<div class="card mb-4">
    <div class="card-header bg-warning text-dark">
        <h5 class="mb-0">Descrição e Observações</h5>
    </div>
    <div class="card-body">
        <div class="row g-4">
            <div class="col-12">
                <label class="form-label fw-semibold">Descrição</label>
                <InputTextArea class="form-control" rows="4" 
                                @bind-Value="Book.Description"
                                placeholder="Sinopse ou descrição do conteúdo do livro..." />
            </div>

            <div class="col-12">
                <label class="form-label fw-semibold">Observações</label>
                <InputTextArea class="form-control" rows="3" 
                                @bind-Value="Book.Note"
                                placeholder="Observações adicionais, estado do livro, entre outras..." />
            </div>
        </div>
    </div>
</div>

@code {
    [Parameter] public Book Book { get; set; } = new();

    protected override void OnInitialized()
    {
        if (Book.PublicationDate == default(DateOnly)) 
            Book.PublicationDate = DateOnly.FromDateTime(DateTime.Today);
    }
}